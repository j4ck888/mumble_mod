- virtual_servers
	- server_id
		- INTEGER
		* AUTOINCREMENT
	* PRIMARY KEY: (server_id)

- server_logs
	- server_id
		- INTEGER
		- NOT NULL
	- message
		- TEXT
		- NOT NULL
	- message_date
		- INTEGER (epoch time)
		- NOT NULL
	* FOREIGN KEY: server_id REFERENCES virtual_servers(server_id)
	* INDEX ON message_date

- config
	- server_id
		- INTEGER
		- NOT NULL
	- config_name
		- VARCHAR(255)
		- NOT NULL
	- config_value
		- TEXT
		- NOT NULL
	* FOREIGN KEY: server_id REFERENCES virtual_servers(server_id)
	* PRIMARY KEY: (server_id, config_name)

- channels:
	- server_id
		- INTEGER
		- NOT NULL
	- channel_id
		- INTEGER
		- NOT NULL
	- parent_id
		- INTEGER
	- channel_name
		- VARCHAR(255)
		- NOT NULL
	- inherit_acl
		- INTEGER
	* PRIMARY KEY (server_id, channel_id)
	* FOREIGN KEY: (server_id, parent_id) REFERENCES channels(server_id, channel_id)
	* FOREIGN KEY: server_id REFERENCES servers(server_id)

- channel_properties
	- server_id
		- INTEGER
		- NOT NULL
	- channel_id
		- INTEGER
		- NOT NULL
	- property_key
		- INTEGER
		- NOT NULL
	- property_value
		- TEXT
		- NOT NULL
	* PRIMARY KEY: (server_id, channel_id, property_key)
	* FOREIGN KEY: (server_id, channel_id, key) REFERENCES channels(server_id, channel_id)

- users
	- server_id
		- INTEGER
		- NOT NULL
	- user_id
		- INTEGER
		- NOT NULL
	- user_name
		- VARCHAR(255)
		- NOT NULL
	- password_hash
		- VARCHAR(128)
		* DEFAULT: NULL
	- salt
		- VARCHAR(128)
		* DEFAULT: NULL
	- kdf_iterations
		- INTEGER
		* DEFAULT: NULL
	- last_channel_id
		- INTEGER
		- NOT NULL
	- texture
		- BLOB
		* DEFAULT: NULL
	- last_active
		- INTEGER (epoch time)
		- NOT NULL
		* DEFAULT: 0
	- last_disconnect
		- INTEGER (epoch time)
		- NOT NULL
		* DEFAULT: 0
	* PRIMARY KEY (server_id, user_id)
	* UNIQUE INDEX (server_id, name)
	* FOREIGN KEY server_id REFERENCES servers(server_id)
	* TRIGGER AFTER DELETE ON channels: UPDATE users SET channel_id = 0 WHERE server_id = old.server_id AND last_channel_id = old.channel_id

- user_properties
	- server_id
		- INTEGER
		- NOT NULL
	- user_id
		- INTEGER
		- NOT NULL
	- property_key
		- INTEGER
		- NOT NULL
	- property_value
		- TEXT
		- NOT NULL
	* PRIMARY KEY: (server_id, user_id, property_key)
	* FOREIGN KEY: (server_id, user_id, key) REFERENCES channels(server_id, channel_id)
